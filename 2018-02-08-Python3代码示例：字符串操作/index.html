<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="dothinking">
        <link rel="canonical" href="https://dothinking.github.io/2018-02-08-Python3%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B%EF%BC%9A%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C/">
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Python3代码示例：字符串操作 - 格致</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <link href="../css/extra.css" rel="stylesheet">

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">格致</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">分类 <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../categories/CAD-CAE%20integration/" class="dropdown-item">CAD/CAE integration</a>
</li>
                                    
<li>
    <a href="../categories/devops/" class="dropdown-item">devops</a>
</li>
                                    
<li>
    <a href="../categories/feeling/" class="dropdown-item">feeling</a>
</li>
                                    
<li>
    <a href="../categories/finite%20element%20analysis/" class="dropdown-item">finite element analysis</a>
</li>
                                    
<li>
    <a href="../categories/machine%20learning/" class="dropdown-item">machine learning</a>
</li>
                                    
<li>
    <a href="../categories/mathematics/" class="dropdown-item">mathematics</a>
</li>
                                    
<li>
    <a href="../categories/numeric%20calculation/" class="dropdown-item">numeric calculation</a>
</li>
                                    
<li>
    <a href="../categories/plasticity%20theory/" class="dropdown-item">plasticity theory</a>
</li>
                                    
<li>
    <a href="../categories/process%20automation/" class="dropdown-item">process automation</a>
</li>
                                    
<li>
    <a href="../categories/python-vba-cpp/" class="dropdown-item">python/vba/cpp</a>
</li>
                                    
<li>
    <a href="../categories/web%20development/" class="dropdown-item">web development</a>
</li>
                                </ul>
                            </li>
                            <li class="navitem">
                                <a href="../archive/" class="nav-link">归档</a>
                            </li>
                            <li class="navitem">
                                <a href="../about/" class="nav-link">关于</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a href="https://github.com/dothinking/dothinking.github.io/edit/master/docs/2018-02-08-Python3代码示例：字符串操作.md" class="nav-link"><i class="fa fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#python3" class="nav-link">Python3代码示例：字符串操作</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#_1" class="nav-link">去除字符串前后指定字符</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#_2" class="nav-link">字符串替换</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#_3" class="nav-link">字符串开头/结尾内容判断</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#_4" class="nav-link">字符串拼接/拆分</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#_5" class="nav-link">字符串对齐</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#_6" class="nav-link">命名格式化字符串</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="python3">Python3代码示例：字符串操作<a class="headerlink" href="#python3" title="Permanent link">&para;</a></h1>
<p>发布于：2018-02-08 | 分类：<a href="../categories/python-vba-cpp/">python/vba/cpp</a></p>
<hr />
<h2 id="_1">去除字符串前后指定字符<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<ul>
<li>str.strip([chars])--去除字符串前后两边的指定字符</li>
<li>str.lstrip([chars])--去除字符串前边的指定字符</li>
<li>str.rstrip([chars])--去除字符串后边的指定字符</li>
</ul>
<pre class="highlight"><code class="language-python"># 参数为None则默认去除空白字符（空格，换行，制表符）
s = ' \t hello world \n'
s.strip()  # 'hello world'
s.lstrip() # 'hello world \n'
s.rstrip() # ' \t hello world'

# 指定字符串参数，表示要删除字符的集合
s = '-----hello world====='
s.strip('-=') # 'hello world'
s.lstrip('-') # 'hello world====='
s.rstrip('=') # '-----hello world'</code></pre>
<h2 id="_2">字符串替换<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<p><code>strip()</code>只能去除字符串两侧的内容，对位于中间位置的任何文本不起作用。对任意位置的字符删除可以借助<code>replace()</code>函数实现。</p>
<ul>
<li>str.replace(old, new[, max])--把旧字符串替换成新字符串，默认全部替换；若指定第三个参数，则替换次数不超过max</li>
</ul>
<pre class="highlight"><code class="language-python">str = "hello world";
new_str = str.replace("l", "", 2) # 'heo world'</code></pre>
<p>对于字符串模板的替换，可以在字符串中使用<code>{var}</code>标记需要替换的变量名，然后使用<code>format()</code>方法替换变量内容。</p>
<pre class="highlight"><code class="language-python"># 顺序变量
'{2}, {1}, {0}'.format(*'abc')
# 'c, b, a'

# 命名变量
str = '{name} has {n} messages.'
str.format(name='Guido', n=37)
# 'Guido has 37 messages.'</code></pre>
<h2 id="_3">字符串开头/结尾内容判断<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<p>字符串的<code>startswith()</code>和<code>endswith()</code>函数分别可用于对字符串起始/结束文本内容的判断。需要注意的是，<strong>当传入元组类型参数时，表示匹配其中任意元素</strong>。</p>
<pre class="highlight"><code class="language-python">s = ["hello","python","world"]
res = [s0 for s0 in s if s0.startswith(("h","wo"))]
# res=['hello', 'world']</code></pre>
<h2 id="_4">字符串拼接/拆分<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h2>
<p><code>split()</code>和<code>join()</code>分别起到拆分和拼接字符串的作用:</p>
<pre class="highlight"><code class="language-python"># split拆分字符串为列表
s = 'hello python world'
L = s.split(" ")

# join拼接列表元素为字符串
res = "-".join(L) # 'hello-python-world'</code></pre>
<p>如果需要 <strong>按行(<code>'\r', '\r\n', \n'</code>)分隔字符串，则可使用<code>splitlines()</code></strong>:</p>
<pre class="highlight"><code class="language-python"># string.splitlines([keepends])按照行拆分字符串
# 参数keepends默认为False，不包含换行符；如果为True，则保留换行符
str = 'hello\n\npython\rworld\r\n'
res1 = str.splitlines()
# ['hello', '', 'python', 'world']
res2 = str.splitlines(True)
# ['hello\n', '\n', 'python\r', 'world\r\n']</code></pre>
<p><code>string</code>对象的<code>split()</code>方法只适应于非常简单的字符串分割情形， 无法处理多个分隔符或者是分隔符周围不确定的空格。使用<code>re.split()</code>方法则可以更加灵活地切割字符串：</p>
<pre class="highlight"><code class="language-python">import re

str = 'asdf fjdk; afed, fjek,asdf, foo'
re.split(r'[;,\s]\s*', line)
# ['asdf', 'fjdk', 'afed', 'fjek', 'asdf', 'foo']</code></pre>
<h2 id="_5">字符串对齐<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h2>
<ul>
<li>str.ljust(width,[fillchar])--输出width个字符，str左对齐，不足部分用fillchar（默认为空格）填充</li>
<li>str.rjust(width,[fillchar])--右对齐</li>
<li>str.center(width, [fillchar])--中间对齐</li>
<li>str.zfill(width)--类似str.rjust，不足部分填充0</li>
</ul>
<pre class="highlight"><code class="language-python">s = "hello world"
print(s.ljust(20, '*'))
print(s.center(20, '*'))
print(s.rjust(20, '*'))

# hello world*********
# ****hello world*****
# *********hello world

s = "123"
print(s.zfill(6))
# 000123</code></pre>
<p>以上方法仅针对字符串的对齐操作，更为通用的方法是函数<code>format()</code>，它可以用来格式化任意对象。 使用<code>&lt;</code>、<code>&gt;</code> 或 <code>^</code>后紧跟一个指定的宽度，分别用来表示左对齐、右对齐和中间对齐。若要指定一个非空格的填充字符，将其写到对齐字符之前即可：</p>
<pre class="highlight"><code class="language-python"># 对齐字符串
x = 'Hello World'
format(x, '&lt;20') # 'Hello World         '
format(x, '=&gt;20s') # '=========Hello World'
format(x, '*^20s') # '****Hello World*****'

# 对齐浮点数
x = 1.2345
format(x, '&gt;10') # '    1.2345'
</code></pre>
<p>当格式化多个值时，这些格式代码也可以被用在<code>format()</code>方法中：</p>
<pre class="highlight"><code class="language-python">'{:&gt;10s} {:&gt;10s}'.format('Hello', 'World')
# '     Hello      World'</code></pre>
<h2 id="_6">命名格式化字符串<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h2>
<p>通常情况下，Python使用<code>tuple</code>传递字符串模板预留位置的值。实际上，可以依次命名预留位置，然后使用<code>dict</code>传入变量：</p>
<pre class="highlight"><code class="language-python">msg = '''%(student.name)s is %(student.age)d years old.'''
item = {"student.name": "XiaoMing", "student.age": 16}
print(msg % item)
# XiaoMing is 16 years old.</code></pre>
<p>完整使用参考：</p>
<pre class="highlight"><code>%[(name)][flags][width].[precision]typecode</code></pre>
<ul>
<li>(name)：命名</li>
<li>flags：右对齐（<code>+</code>），左对齐（<code>-</code>），正数左侧填充一个空格使之与负数对齐（<code></code>），使用0填充（<code>0</code>）</li>
<li>width：显示宽度</li>
<li>precision：小数点后精度</li>
<li>typecode：格式类型码，例如字符串（<code>%s</code>，<code>%r</code>），单个字符（<code>%c</code>），二、八、十、十六进制整数（<code>%b, %o, %d, %x</code>），浮点是（<code>%f</code>）</li>
</ul>
<p>其中<code>width</code>, <code>precision</code>为两个整数，可以利用<code>*</code>来动态代入：</p>
<pre class="highlight"><code class="language-python">s = "%*.*f" %(5,4,1.234)
print(s)
# 1.2340</code></pre></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>Copyright &copy; 2016 - 2021 Dothinking</p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
